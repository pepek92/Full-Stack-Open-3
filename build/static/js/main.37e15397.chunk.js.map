{"version":3,"sources":["services/persons.js","components/Personform.js","components/Filter.js","components/ListPersons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","put","Object","delete","Personform","props","style","fontFamily","display","justifyContent","alignItems","onSubmit","value","newName","onChange","onNameChange","newNumber","onNumberChange","type","Filter","ListPersons","persons","map","x","i","name","toLowerCase","includes","filter","number","onClick","nameObject","deleteName","console","log","Notification","message","className","Error","App","useState","setPersons","setNewName","setNewNumber","setFilter","notification","setNotification","error","setError","useEffect","personService","then","response","data","event","target","preventDefault","some","person","window","confirm","personToChange","find","n","changedPerson","setTimeout","catch","concat","deletedPerson","p","alert","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oMACMA,EAAU,eAkBD,EAhBA,WACb,OAAOC,IAAMC,IAAIF,IAeJ,EAZA,SAAAG,GACb,OAAOF,IAAMG,KAAKJ,EAASG,IAWd,EARA,SAACE,EAAIF,GAClB,OAAOF,IAAMK,IAAN,UAAaN,EAAb,YAAwBK,GAAMF,IAOxB,EAJM,SAACE,EAAIE,GACxB,OAAON,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BK,GAAME,I,OCczBE,EA5BE,SAAAC,GASnB,OACI,qBAAKC,MATW,CAChBC,WAAY,UACZC,QAAS,OACTC,eAAgB,SAChBC,WAAY,UAKZ,SACE,uBAAMC,SAAUN,EAAMM,SAAtB,UACI,yCACQ,uBAAOC,MAAOP,EAAMQ,QAC1BC,SAAUT,EAAMU,kBAElB,2CACU,uBAAOH,MAAOP,EAAMW,UAC5BF,SAAUT,EAAMY,oBAElB,8BACE,wBAAQC,KAAK,SAAb,yBCLGC,EAhBA,SAAAd,GASf,OACI,sBAAKC,MARa,CAClBC,WAAY,UACZC,QAAS,OACTC,eAAgB,SAChBC,WAAY,UAIZ,+BACoB,uBAAOI,SAAUT,EAAMS,SAAUF,MAAOP,EAAMO,YCWvDQ,EAtBK,SAACf,GAWnB,OACE,qBAAKC,MAXW,CAChBC,WAAY,UACZE,eAAgB,SAChBC,WAAY,UAQZ,SACGL,EAAMgB,QAAQC,KAAI,SAACC,EAAGC,GAAJ,OACjBD,EAAEE,KAAKC,cAAcC,SAAStB,EAAMuB,OAAOF,eAC3C,+BAAaH,EAAEE,KAAf,IAAsBF,EAAEM,OACxB,wBAAQC,QAAS,kBATFC,EASoBR,OARvClB,EAAM2B,WAAWD,GADC,IAACA,GASf,sBADSP,GAEDS,QAAQC,IAAI,6BCLbC,EAZM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,eAAf,SACGD,KCKQE,EAZD,SAAC,GAAiB,IAAfF,EAAc,EAAdA,QACf,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,QAAf,SACGD,KC4HQG,EA3HH,WACV,MAA+BC,mBAAS,IAAxC,mBAAQnB,EAAR,KAAiBoB,EAAjB,KACA,EAAgCD,mBAAS,IAAzC,mBAAQ3B,EAAR,KAAiB6B,EAAjB,KACA,EAAoCF,mBAAS,IAA7C,mBAAQxB,EAAR,KAAmB2B,EAAnB,KACA,EAA8BH,mBAAS,IAAvC,mBAAQZ,EAAR,KAAgBgB,EAAhB,KACA,EAAwCJ,mBAAS,MAAjD,mBAAOK,EAAP,KAAqBC,EAArB,KACA,EAA0BN,mBAAS,MAAnC,mBAAOO,EAAP,KAAcC,EAAd,KAEAC,qBAAU,WACRC,IAEGC,MAAK,SAAAC,GACJX,EAAWW,EAASC,WAEvB,IA+FH,OACE,gCACE,2CACA,cAAC,EAAD,CAAcjB,QAASS,IACvB,cAAC,EAAD,CAAOT,QAASW,IAChB,cAAC,EAAD,CAAQjC,SA/Be,SAACwC,GAC1BV,EAAUU,EAAMC,OAAO3C,QA8BiBA,MAAOgB,IAC7C,2CACA,cAAC,EAAD,CAAYjB,SApGA,SAAC2C,GACfA,EAAME,iBACN,IAAMzB,EAAa,CACjBN,KAAMZ,EACNgB,OAAQb,GAGV,GAAIK,EAAQoC,MAAK,SAAAC,GAAM,OAAIA,EAAOjC,OAASZ,MACzC,GAAI8C,OAAOC,QAAP,UAAkB/C,EAAlB,2EAAoG,CACtG,IAAMgD,EAAiBxC,EAAQyC,MAAK,SAAAC,GAAC,OAAIA,EAAEtC,OAASZ,KAC9CmD,EAAa,2BAAQH,GAAR,IAAwBhC,OAAQb,IAEnDkC,EACQW,EAAe7D,GAAIgE,GAC1Bb,MAAK,SAAAC,GACNnB,QAAQC,IAAIkB,GACZX,EAAWpB,EAAQC,KAAI,SAAAoC,GAAM,OAAIA,EAAO1D,KAAOgE,EAAchE,GAAK0D,EAASN,EAASC,SACpFP,EAAgB,GAAD,OACVjC,EADU,oBAGfoD,YAAW,WACTnB,EAAgB,QACf,QAEJoB,OAAM,SAAAnB,GACLC,EAAS,kBAAD,OACYjB,EAAWN,KADvB,8CAGRwC,YAAW,WACTjB,EAAS,QACR,cAKLE,EACUnB,GACPoB,MAAK,SAAAC,GACJV,EAAW,IACXC,EAAa,IACbF,EAAWpB,EAAQ8C,OAAOf,EAASC,OACnCP,EAAgB,SAAD,OACJjC,IAEXoD,YAAW,WACTnB,EAAgB,QACf,QAEJoB,OAAM,SAAAnB,GACLC,EAAS,GAAD,OACHD,EAAMK,SAASC,KAAKN,QAEzBkB,YAAW,WACTjB,EAAS,QACR,SA8CwBjC,aAzCV,SAACuC,GACxBZ,EAAWY,EAAMC,OAAO3C,QAwCyCK,eArCxC,SAACqC,GAC1BX,EAAaW,EAAMC,OAAO3C,QAoC2Ea,KAAMZ,EAASgB,OAAQb,IAC1H,yCACA,cAAC,EAAD,CAAaK,QAASA,EAASO,OAAQA,EAAQI,WA/BxB,SAAC0B,GAC1B,GAAIC,OAAOC,QAAP,iBAAyBF,EAAOjC,KAAhC,OAA2C,CAC/C,IAAM2C,EAAgB/C,EAAQyC,MAAK,SAAAC,GAAC,OAAIA,EAAE/D,KAAO0D,EAAO1D,MACxDkD,EACgBQ,EAAO1D,GAAIoE,GACxBjB,MAAK,SAAAC,GACJX,EAAWpB,EAAQO,QAAO,SAAAyC,GAAC,OAAIA,EAAErE,KAAO0D,EAAO1D,OAC/C8C,EAAgB,WAAD,OACFsB,EAAc3C,OAE3BwC,YAAW,WACTnB,EAAgB,QACf,QAEJoB,OAAM,SAAAnB,GACLuB,MAAM,GAAD,OACAF,EAAc3C,KADd,oDC3Gb8C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.37e15397.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deletePerson = (id, Object) => {\r\n  return axios.delete(`${baseUrl}/${id}`, Object)\r\n}\r\n\r\nexport default { getAll, create, update, deletePerson }","import React from 'react'\r\n\r\nconst Personform = props => {\r\n  const FormStyle = {\r\n    fontFamily: 'Verdana',\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  }\r\n\r\n\r\nreturn (\r\n    <div style={FormStyle}>\r\n      <form onSubmit={props.onSubmit}>\r\n          <div>\r\n            name: <input value={props.newName}\r\n            onChange={props.onNameChange}/>\r\n          </div>\r\n          <div>\r\n            number: <input value={props.newNumber}\r\n            onChange={props.onNumberChange}/>\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    </div>\r\n  )\r\n}\r\n\r\n  export default Personform","import React from 'react'\r\n\r\nconst Filter = props => {\r\n\r\n  const filterStyle = {\r\n    fontFamily: 'Verdana',\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  }\r\n\r\nreturn (\r\n    <div style={filterStyle}>\r\n      filter shown with <input onChange={props.onChange} value={props.value}></input>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst ListPersons = (props) => {\r\n  const ListStyle = {\r\n    fontFamily: 'Verdana',\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  }\r\n\r\n  const handleClick = (nameObject) => {\r\n    props.deleteName(nameObject)\r\n  }\r\n  \r\n  return (\r\n    <div style={ListStyle}>\r\n      {props.persons.map((x, i) => \r\n        x.name.toLowerCase().includes(props.filter.toLowerCase()) ? \r\n        <li key={i}>{x.name} {x.number}\r\n        <button onClick={() => handleClick(x)}>delete</button>\r\n        </li> : console.log(\"Numeroa ei l√∂ydy\"))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ListPersons","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"notification\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Error = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Error","/* eslint-disable array-callback-return */\nimport React, { useState, useEffect } from 'react'\nimport personService from \"./services/persons\"\nimport './index.css';\nimport Personform from './components/Personform';\nimport Filter from './components/Filter'\nimport ListPersons from './components/ListPersons';\nimport Notification from './components/Notification';\nimport Error from './components/Error';\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState(\"\")\n  const [ newNumber, setNewNumber ] = useState(\"\")\n  const [ filter, setFilter ] = useState(\"\")\n  const [notification, setNotification] = useState(null)\n  const [error, setError] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n  \n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const personToChange = persons.find(n => n.name === newName)\n        const changedPerson = { ...personToChange, number: newNumber }\n\n        personService\n        .update(personToChange.id, changedPerson)\n        .then(response => {\n        console.log(response)\n        setPersons(persons.map(person => person.id !== changedPerson.id ? person : response.data))\n        setNotification(\n          `${newName} number changed`\n        )\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n      .catch(error => {\n        setError(\n          `Information of ${nameObject.name} has already been removed from the server`\n        )\n        setTimeout(() => {\n          setError(null)\n        }, 5000)\n      })\n    }\n    }\n    else {\n      personService\n        .create(nameObject)\n        .then(response => {\n          setNewName('')\n          setNewNumber('')\n          setPersons(persons.concat(response.data))\n          setNotification(\n            `Added ${newName}`\n          )\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setError(\n            `${error.response.data.error}`\n          )\n          setTimeout(() => {\n            setError(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleDeleteButton = (person) => {\n    if (window.confirm(`Delete ${person.name} ?`)) {\n    const deletedPerson = persons.find(n => n.id === person.id)\n    personService\n      .deletePerson(person.id, deletedPerson)\n      .then(response => {\n        setPersons(persons.filter(p => p.id !== person.id))\n        setNotification(\n          `Deleted ${deletedPerson.name}`\n        )\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n      .catch(error => {\n        alert(\n          `${deletedPerson.name} was already removed from the server`\n        )\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notification}/>\n      <Error message={error}/>\n      <Filter onChange={handleFilterChange} value={filter}/>\n      <h2>Add a new</h2>\n      <Personform onSubmit={addName} onNameChange={handleNameChange} onNumberChange={handleNumberChange} name={newName} number={newNumber}/>\n      <h2>Numbers</h2>\n      <ListPersons persons={persons} filter={filter} deleteName={handleDeleteButton} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}